<div class="profiles-section">
  <div>
    <div class="row justify-content-center">
      <div class="col-sm-8 my-3">
        <%= form_with url: profiles_path, method: :get, class: "d-flex" do %>
          <%= text_field_tag :query,
                params[:query],
                class: "form-control",
                placeholder: "Type a keyword"
            %>
          <%= submit_tag "Search", name: "", class: "btn btn-primary" %>
        <% end %>
      </div>
    </div>
    <div data-controller="most-similar">

      <button class="button" data-most-similar-button-texts-value='["Filter by score", "Full index"]' data-most-similar-target="btn" data-action="click->most-similar#trigger">
      button and something for a commit
      </button>

      <div data-target="most-similar.profiles">
        <% @profiles.each do |profile| %>
          <%= link_to profile_path(profile) do %>
            <%= render profile %>
          <% end %>
        <% end %>
      </div>

      <div class="most-similar-profiles" data-target="most-similar.mostSimilarProfiles">
        <% @most_similar_profiles.each do |profile| %>
          <%= link_to profile_path(profile) do %>
            <%= render profile %>
          <% end %>
        <% end %>
      </div>
    </div>




  </div>

  <div
    data-controller="map"
    data-map-markers-value="<%= @markers.to_json %>"
    data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"
    id="map">
  </div>

</div>
